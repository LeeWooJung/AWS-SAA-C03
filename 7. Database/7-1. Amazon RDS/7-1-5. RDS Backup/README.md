# [RDS Backup](https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/USER_WorkingWithAutomatedBackups.html)

## RDS Backup

* Amazon Relational Database Service (RDS)는 데이터베이스의 **백업 및 복구를 위한 다양한 기능을 제공****.  
* RDS의 백업 기능은 **자동 백업, 수동 스냅샷, 그리고 백업 데이터의 저장 및 복구를 위한 여러 가지 옵션**을 포함함.

## 주요 백업 기능

1. **자동 백업** (Automated Backups)

    * **자동화된 백업 활성화**  
    RDS 인스턴스를 생성할 때 자동 백업 기능을 활성화할 수 있음.  
    자동 백업은 사용자가 설정한 백업 보존 기간(**최대 35일**) 동안 매일 자동으로 데이터베이스를 백업.  
    (**백업 보존기간을 0일로 설정하면 자동 백업을 사용하지 않을 수 있음**).

    * **포인트 인 타임 복구** (PITR)  
    자동 백업은 연속 백업을 사용하여 특정 시점으로 데이터베이스를 복구할 수 있게 함.  
    이는 데이터베이스 인스턴스의 상태를 특정 시간까지 복원할 수 있음을 의미.

    * **백업 저장소**  
    자동 백업은 **Amazon S3에 저장**되며, 이는 높은 내구성과 가용성을 제공.

2. **수동 스냅샷** (Manual Snapshots)

    * **사용자 생성 스냅샷**  
    사용자는 필요에 따라 데이터베이스의 스냅샷을 수동으로 생성할 수 있음.  
    수동 스냅샷은 사용자가 삭제할 때까지 보존.

    * **스냅샷 복원**  
    수동 스냅샷은 언제든지 새로운 데이터베이스 인스턴스로 복원할 수 있음.  
    이는 테스트 환경을 만들거나 데이터베이스의 특정 시점 상태를 보존하는 데 유용.

3. **복구 옵션**

    * **자동 백업 복구**  
    자동 백업을 사용하여 특정 시점으로 데이터베이스를 복원할 수 있음.  
    복구 프로세스는 **새로운 데이터베이스 인스턴스를 생성**하며, 기존 데이터베이스를 덮어쓰지 않음.

    * **스냅샷 복원**  
    수동으로 생성한 스냅샷을 기반으로 데이터베이스를 복원할 수 있음.  
    이는 새로운 데이터베이스 인스턴스를 생성하거나 기존 인스턴스를 교체하는 데 사용할 수 있음.

## 백업 저장 및 복구

1. **백업 저장**

    * **Amazon S3**  
    자동 백업과 수동 스냅샷 모두 Amazon S3에 저장됨.  
    Amazon S3는 **99.999999999**%의 내구성을 제공하여 데이터 손실 가능성을 최소화함.
    * **스토리지 비용**  
    RDS는 자동 백업에 대한 일정량의 스토리지를 **무료**로 제공.  
    사용자가 추가 스토리지를 사용하면 이에 대한 요금이 부과됨.  
    **추가 스토리지는 RDB Database가 멈추더라도 그에 대한 요금이 부과**됨. 따라서 오랜 시간 RDS Database를 멈추려면 Snapshot을 사용해야 함.

2. **복구 프로세스**

    * **자동 백업 복구**  
    콘솔이나 CLI를 통해 데이터베이스를 특정 시점으로 복원할 수 있음.  
    이는 **새로운 인스턴스를 생성**하며, 복구 중에는 데이터베이스가 사용자의 변경 사항을 수신하지 않음.
    * **스냅샷 복구**  
    사용자는 스냅샷을 선택하여 데이터베이스 인스턴스를 생성할 수 있음.  
    이 프로세스는 비교적 빠르며, 새로운 인스턴스가 생성되면 기존 인스턴스와 동일한 설정을 가짐.