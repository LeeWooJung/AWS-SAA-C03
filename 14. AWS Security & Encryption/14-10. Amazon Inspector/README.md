# [Amazon Inspector](https://docs.aws.amazon.com/ko_kr/inspector/latest/user/what-is-inspector.html)

## <img src = "https://github.com/user-attachments/assets/bc13b5e2-be01-4f52-8028-288417633c20" width = "25" height = "25"> Amazon Inspector

Amazon Inspector는 클라우드 환경의 **보안 취약점을 식별하고 평가하는 서비스**임. 

사용자는 Inspector를 사용하여 **EC2 인스턴스, 컨테이너 및 Lambda functions에 대한 보안 평가를 수행**할 수 있으며, **보안 취약점, 잘못된 구성, 보안 모범 사례 위반 등을 자동으로 탐지**함. 

이를 통해 개발 및 운영 팀이 보안 문제를 신속하게 해결하고, 애플리케이션 및 인프라의 보안을 강화할 수 있음.

**AWS Security Hub**와 통합되어 사용될 수 있음.

취약점이 발견되면, 해당 Events를 **EventBridge**로 전송할 수 있음.

## 특징

### 자동화된 취약점 스캐닝

**EC2 인스턴스, 컨테이너 및 Lambda functions에서 자동으로 취약점을 스캔하고 분석**함.

### 정기적인 보안 평가

정기적인 평가를 통해 지속적으로 보안을 모니터링하고 개선할 수 있음.

### 취약점 데이터베이스

**최신 보안 취약점과 모범 사례를 포함한 데이터베이스를 활용하여 정확한 평가를 제공**함.

EC2, ECR(Container Service), Lambda에 활용할 수 있음.

이외에도 데이터베이스를 사용하지 않았을 때는 EC2의 **Network Reachability**에 대한 평가를 할 수 있음.

### 통합된 대시보드

웹 콘솔을 통해 평가 결과와 취약점 정보를 시각적으로 제공함.

### 설정 가능한 규칙

**평가 시 사용할 규칙을 사용자 요구에 맞게 설정**할 수 있음.

## 구성요소

* **평가 템플릿**(Evaluation Templates)

    **사용자가 평가할 보안 규칙을 정의하는 템플릿**임. 
    
    템플릿에 따라 취약점 스캐닝 및 보안 평가가 수행됨.

* **평가 대상**(Assessment Targets)

    평가를 수행할 리소스, **주로 EC2 인스턴스나 컨테이너를 지정**함.

* **평가 작업**(Assessment Runs)

    설정된 평가 템플릿을 기반으로 실제 취약점 스캔 작업을 수행함.

* **결과 보고서**(Assessment Reports)

    평가 결과를 문서화하여 취약점 및 보안 문제를 자세히 설명함.

* **위험 점수**(Risk Scores)

    **발견된 취약점의 심각도를 나타내는 점수**로, 우선적으로 대응해야 할 취약점을 식별하는 데 도움을 줌.

## 아키텍처

### 설정

사용자는 평가 템플릿을 생성하고, 평가 대상을 정의함. 

이는 EC2 인스턴스, 컨테이너, 또는 기타 AWS 리소스를 포함할 수 있음.

### 스캔

Inspector는 **설정된 평가 템플릿에 따라 정의된 평가 대상에서 취약점 스캔을 수행**함. 

이 과정에서 **최신 취약점 데이터베이스를 사용하여 보안 문제를 식별**함.

### 평가

취약점 스캔이 완료되면 평가 결과가 생성됨. 

이 결과에는 발견된 취약점, 보안 문제, 권장 사항이 포함됨.

### 보고서 생성

평가 결과를 기반으로 **상세한 보고서를 생성하여 보안 문제를 시각적으로 표현**함.

### 통합

**AWS CloudWatch, AWS SNS와 통합하여 경고를 설정하고, 자동화된 대응을 구성**할 수 있음.

## For EC2 Instances

* leveraging the **AWS System Manager**(SSM) agent

* Analyze against **unintended network accessibility**

* Analyze the **running OS** against **known vulnerabilities**

## For Container Images push to Amazon ECR

* Assessment of Container Images as they are pushed

## For Lambda Functions

* Identifies software vulnerabilities in function code and package dependencies

* Assessment of functions as they are deployed

## 장점

* **자동화된 스캔**

    수동으로 보안 평가를 수행할 필요 없이 자동으로 취약점을 스캔하여 보안 문제를 신속하게 식별할 수 있음.

* **정기적인 평가**

    **정기적인 보안 평가를 통해 지속적**으로 보안을 모니터링하고 유지할 수 있음.

* **최신 취약점 데이터베이스**

    **최신 보안 취약점 및 모범 사례를 반영하여 정확한 평가를 제공**함.

* **통합된 보고서**

    **시각적으로 이해하기 쉬운 보고서를 제공**하여 보안 문제를 효과적으로 전달할 수 있음.

* **규칙 설정 가능**

    **사용자 요구에 맞게 평가 규칙을 설정하여 맞춤형 평가를 수행**할 수 있음.

## 단점

* **비용**

    평가 작업을 실행할 때 발생하는 비용이 있으며, 대규모 환경에서는 비용이 증가할 수 있음.

* **제한된 평가 범위**

    **현재는 주로 EC2 인스턴스와 컨테이너에 중점**을 두고 있으며, 다른 AWS 리소스에 대한 평가 범위가 제한될 수 있음.

## Use case

* **애플리케이션 보안 평가**

    애플리케이션 배포 전후로 취약점을 식별하고 보안 상태를 평가하여 보안 문제를 해결함.

* **규정 준수**

    **보안 규정 및 모범 사례 준수를 확인**하고, 규정 준수를 유지하기 위해 정기적인 평가를 수행함.

* **취약점 관리**

    발견된 취약점을 기반으로 패치를 적용하고, 보안 문제를 해결하여 시스템을 강화함.

* **보안 인시던트 대응**

    보안 문제를 신속하게 식별하고 대응하여 인시던트를 예방하거나 완화함.

## Summary

Amazon Inspector는 AWS 환경의 **EC2 인스턴스 및 컨테이너에 대한 자동화된 보안 취약점 관리 및 평가 서비스**임. 

이 서비스는 **최신 취약점 데이터베이스**와 **보안 모범 사례를 활용**하여 보안 취약점 및 문제를 자동으로 식별하고 평가함. 

사용자는 **평가 템플릿을 설정하고 정기적인 평가를 수행**하여 보안 상태를 지속적으로 모니터링하며, 상세한 보고서를 통해 보안 문제를 효과적으로 관리할 수 있음. 

자동화된 스캔, 정기적인 평가, 통합된 보고서 등의 장점을 제공하며, 애플리케이션 보안 평가, 규정 준수, 취약점 관리 등 다양한 보안 관리 작업에 활용할 수 있음.