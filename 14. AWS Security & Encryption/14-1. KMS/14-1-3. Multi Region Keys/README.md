# KMS Multi Region Keys

KMS Multi-Region Keys는 **AWS KMS (Key Management Service)가 제공하는 기능**으로, **여러 AWS 리전에서 암호화 키를 사용할 수 있도록 하는 방식**임. 

이는 **동일한 암호화 키를 다양한 리전에서 접근하고 사용할 수 있게 함으로써, 글로벌 애플리케이션과 서비스가 다양한 리전 간에 데이터를 안전하게 암호화하고 해독**할 수 있게 함.

Multi-Region Keys는 **같은 Key Id, Material, Automatic Rotation 등**을 갖고 있음.

이를 이용하면 **Re-Encryption이나 Cross-Region API Call**을 진행할 필요가 없음.

KMS Multi-Region은 **Global이 아님**. Primary와 Replicas에만 적용됨.

각각의 Multi-Region Key는 **독립적**으로 관리됨.

## 특징

### 글로벌 접근성

여러 리전에서 동일한 키를 사용할 수 있어 글로벌 애플리케이션 지원이 용이함.

### 리전 간 데이터 암호화

리전 간 데이터 복제 및 전송 시 **동일한 키를 사용하여 일관된 보안을 유지**할 수 있음.

### 키 동기화

KMS가 자동으로 각 리전에서 키를 생성하고 동기화하여 관리의 복잡성을 줄임.

### 단순화된 키 관리

**단일 키 ID로 여러 리전에서의 키 관리를 단순화**함.

## 구성요소

* **Primary Key**

    **원래 생성된 리전의 키**. 
    
    다른 리전의 키와 동일한 ID를 가짐.

* **Replica Key**

    다른 리전에 복제된 키. 
    
    원본 키와 동일한 특성을 공유하며, 리전 간 데이터 암호화 및 해독에 사용됨.

## 아키텍처

### Primary Region

키가 처음 생성된 리전. 

이 리전에서 키는 Primary Key로 작동함.

### Replica Region

키가 복제된 리전. 

이 리전에서 키는 Replica Key로 작동함.

### 동기화

**KMS가 Primary Key와 Replica Key 간의 동기화를 자동으로 관리**함.

## 장점

* **글로벌 데이터 보안**

    여러 리전에서 동일한 키를 사용하여 일관된 암호화를 제공함.

* **관리 단순화**

    키 관리가 단순해지며, 복잡한 키 동기화 문제를 해결함.

* **빠른 데이터 접근**

    리전 간 데이터 접근이 빨라지며, 성능이 향상됨.

* **재해 복구**

    리전 간 키 복제를 통해 재해 복구 시 빠른 복원이 가능함.

## 단점

* **비용 증가**

    여러 리전에서 키를 생성하고 유지관리하는 비용이 증가할 수 있음.

* **복잡성 증가**

    여러 리전에서 키를 사용하는 경우 **정책 및 권한 관리가 복잡**해질 수 있음.

## Use case

* **글로벌 애플리케이션**

    여러 리전에서 동일한 애플리케이션을 운영하며, 일관된 데이터 암호화가 필요한 경우.

* **재해 복구**

    재해 발생 시 빠른 복구가 필요하며, 다른 리전에서의 키 접근이 필요한 경우.

* **데이터 복제**

    리전 간 데이터 복제 및 전송 시 동일한 키를 사용하여 보안을 유지하고자 하는 경우.