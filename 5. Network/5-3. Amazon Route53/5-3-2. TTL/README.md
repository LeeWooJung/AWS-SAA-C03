# [TTL](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-values-basic.html#rrsets-values-basic-ttl)

## TTL(Time To Live)

### 설명

* DNS 레코드의 **캐시 유효 기간을 정의**하는 값.  
* TTL은 특정 레코드가 DNS 리졸버나 클라이언트의 캐시에 얼마나 오랫동안 유지될지를 결정.  
* TTL 값은 초 단위로 설정됨.
* **Alias Records**를 제외하고 각 DNS Record에 TTL은 의무적으로 적용 되어야 함.

### 작동 방식

* **DNS 레코드 생성**  
도메인 소유자는 Route 53에서 특정 레코드에 대한 TTL 값을 설정.
* **DNS 쿼리**  
클라이언트가 도메인에 대한 DNS 쿼리를 보낼 때, DNS 리졸버는 Route 53 네임 서버로부터 해당 레코드를 받아옴..
* **캐싱**  
DNS 리졸버는 **응답을 캐시에 저장**하며, 레코드의 **TTL 값을 기준으로 해당 레코드가 캐시에 얼마나 오래 유지될지를 결정**.
* **TTL 만료**  
TTL 값이 만료되면, DNS 리졸버는 캐시된 레코드를 제거하고 다시 Route 53 네임 서버로부터 최신 레코드를 받아옴.

## High TTL

### 개념

* 높은 TTL 값은 레코드가 DNS 리졸버 및 클라이언트의 캐시에 **더 오래 유지**된다는 것을 의미.  
* 일반적으로 수 **시간에서 수 일**간의 TTL 값을 설정함.

### 장점

* **캐싱 효과**  
자주 변하지 않는 레코드에 대해 높은 TTL 값을 설정하면 **DNS 쿼리가 캐시에서 해결되는 비율이 높아져 네트워크 트래픽이 줄어들고, 레이턴시가 감소**.
* **비용 절감**  
DNS 쿼리가 적게 발생하여 DNS 제공자의 쿼리 비용을 절감할 수 있음.
* **서버 부하 감소**  
네임 서버에 도달하는 쿼리 수가 줄어들어 서버의 부하가 감소.

### 단점

* **변경 전파 지연**  
레코드를 변경할 경우, 변경 내용이 모든 DNS 리졸버에 반영되기까지 시간이 오래 걸릴 수 있음.  
이는 **가용성이나 서비스 중단을 유발**할 수 있음.
* **유연성 부족**  
빠르게 변경되어야 하는 레코드에 적합하지 않음.

## LOW TTL

### 개념

* 낮은 TTL 값은 레코드가 캐시에 짧은 시간 동안만 유지된다는 것을 의미.  
* 일반적으로 **수 초에서 수 분**간의 TTL 값을 설정함.

### 장점

* **변경 전파 속도**  
레코드를 변경하면, **변경 내용이 빠르게 모든 DNS 리졸버에 반영**.  
이는 특히 **가용성 및 긴급 상황에서 유용**.
* **유연성**  
자주 변경되는 레코드에 적합하며, 동적 DNS 설정에 유리.

### 단점

* **캐싱 효과 감소**  
낮은 TTL 값은 캐싱의 장점을 덜 누릴 수 있으며, 이는 **네트워크 트래픽 증가 및 레이턴시 증가**로 이어질 수 있음.
* **비용 증가**  
더 **빈번한 DNS 쿼리**로 인해 DNS 제공자의 쿼리 **비용이 증가**할 수 있음.
* **서버 부하 증가**  
네임 서버에 도달하는 쿼리 수가 늘어나 서버 부하가 증가할 수 있음.