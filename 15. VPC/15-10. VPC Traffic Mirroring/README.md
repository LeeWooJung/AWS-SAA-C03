# [VPC Traffic Mirroring](https://docs.aws.amazon.com/vpc/latest/mirroring/what-is-traffic-mirroring.html)

AWS VPC의 Traffic Mirroring은 **네트워크 트래픽을 복제하여 분석 및 모니터링 목적으로 사용할 수 있게 해주는 기능**임. 

이를 통해 **실시간 네트워크 트래픽을 분석하고, 침입 탐지 시스템(IDS), 침입 방지 시스템(IPS), 패킷 분석기 등과 같은 네트워크 모니터링 도구와 통합**할 수 있음.

트래픽 소스(Source)와 트래픽 대상(Target)은 **같은 VPC** 혹은 **VPC Peering**으로 연결된 **다른 VPC**에 존재할 수 있음.

## 특징

### 실시간 트래픽 캡처

네트워크 인터페이스의 트래픽을 **실시간으로 복제하여 분석**함.

### 필터링 및 선택적 캡처

캡처할 트래픽을 필터링하여 특정 트래픽만 복제할 수 있음.

### 유연한 구성

다양한 트래픽 미러링 세션을 구성하여 여러 대상에 트래픽을 전송할 수 있음.

### 통합 분석 도구

**네트워크 모니터링 도구와 쉽게 통합**할 수 있어 네트워크 보안 및 성능 분석을 향상시킴.

## 구성요소

* **트래픽 소스** (Source)

    트래픽을 캡처할 네트워크 인터페이스(예: EC2 인스턴스의 **ENI**).

* **트래픽 대상** (Target)

    복제된 트래픽을 수신할 네트워크 인터페이스(예: 모니터링 장비의 **ENI** 혹은 **Network Load Balancer**).

* **미러 세션** (Mirror Session)

    트래픽 소스와 대상을 연결하고, 트래픽 필터링 규칙을 정의하는 구성 요소.

## 아키텍처

### 트래픽 소스 설정

트래픽을 캡처할 VPC 내의 네트워크 인터페이스를 지정함.

### 트래픽 대상 설정

복제된 트래픽을 수신할 네트워크 인터페이스를 지정함.

### 미러 세션 구성

트래픽 소스와 대상 간의 미러 세션을 생성하고, 캡처할 트래픽 필터링 규칙을 정의함.


## Use case

* **침입 탐지 및 방지 시스템**(IDS/IPS)

    네트워크 보안 장비에 실시간 트래픽을 전달하여 침입을 탐지하고 방지함.

* **네트워크 성능 모니터링**

    네트워크 성능 분석 도구와 통합하여 트래픽 패턴을 분석하고 성능 병목 현상을 파악함.

* **문제 해결 및 디버깅**

    실시간 트래픽 캡처를 통해 네트워크 문제를 진단하고 해결함.

* **규정 준수 및 감사**

    규제 요구 사항에 따라 네트워크 트래픽을 기록하고 분석함.

## Summary

AWS VPC의 Traffic Mirroring은 네트워크 **트래픽을 복제하여 보안 분석, 성능 모니터링, 문제 해결 등의 목적으로 사용**할 수 있는 기능임. 

실시간 트래픽 캡처, 필터링 및 선택적 캡처, 유연한 구성 등을 통해 다양한 네트워크 모니터링 도구와 쉽게 통합할 수 있음. 

이를 통해 네트워크 보안 강화, 문제 해결, 규정 준수 등의 이점을 제공함.