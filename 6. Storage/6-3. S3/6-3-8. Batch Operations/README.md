# [S3 Batch Operations](https://aws.amazon.com/ko/blogs/korea/new-amazon-s3-batch-operations/)

## S3 Batch Operations

* S3 버킷 내의 객체들에 대해 **대규모 작업을 간편하게 실행할 수 있도록 해주는 서비스**.  
* 수십억 개의 객체에 대해 복잡한 작업을 병렬로 처리할 수 있으며, 주로 **데이터 관리**, **파일 전송**, **권한 설정 변경** 등의 작업을 자동화하는 데 유용.  
* 객체 리스트를 얻기 위해 S3 Inventory를 사용할 수 있으며, 객체를 filtering 하기 위해 S3 Select를 사용할 수 있음.

### 주요 기능 및 특징

* **대규모 작업 지원**  
    * 수백만에서 수십억 개의 S3 객체에 대해 작업을 실행할 수 있음.
    * 작업을 **병렬**로 처리하여 효율성을 높임.

* **다양한 작업 유형 지원**  
    * **객체 복사**  
    버킷 간 객체 복사 또는 동일한 버킷 내에서의 객체 복사를 수행할 수 있음.
    * **객체 태그 지정**  
    객체에 태그를 추가하거나 변경할 수 있음.
    * **객체 ACL 수정**: 객체의 접근 제어 목록(ACL)을 수정할 수 있음.
    * **객체 메타데이터 수정**  
    객체의 메타데이터를 추가하거나 변경할 수 있음.
    * **Lambda 함수 호출**  
    객체에 대해 AWS Lambda 함수를 호출하여 사용자 정의 작업을 수행할 수 있음.
    * **Encrypt object**  
    암호화되지 않은 객체를 암호화할 수 있음.

* **상태 모니터링 및 보고**  
    * 작업 상태를 실시간으로 모니터링할 수 있음.
    * 작업 완료 후 결과 보고서를 제공하여 성공 및 실패한 작업을 확인할 수 있음.

* **자동화 및 스케줄링**
    * AWS Management Console, SDK, CLI를 통해 작업을 설정하고 실행할 수 있음.
    * 정기적으로 반복되는 작업을 자동화할 수 있음.

### 아키텍처 개요

* **작업 목록 (Manifest)**  
    * 작업을 수행할 **객체 목록을 지정하는 파일**.  
    * CSV 형식으로 작성되며 S3 버킷에 저장.

* **작업 정의**  
    * **실행할 작업 유형과 파라미터를 정의**.  
    * 예를 들어, 객체 복사, 태그 변경, 메타데이터 수정 등의 작업 유형이 있음.

* **IAM 역할**  
    * S3 Batch Operations가 작업을 수행하는 데 필요한 권한을 부여하는 IAM 역할을 정의.

* **작업 실행 및 모니터링**  
    * 작업이 시작되면 S3 Batch Operations는 **병렬로 작업을 실행**.  
    * AWS Management Console, CLI, 또는 SDK를 통해 작업의 진행 상태를 모니터링할 수 있음.

* **결과 보고서**  
    * 작업 완료 후 성공 및 실패한 작업 목록이 포함된 보고서를 생성.

### 장점

* **확장성**  
대규모 작업을 병렬로 처리하여 성능을 최적화.

* **편리성**  
복잡한 작업을 간편하게 설정하고 자동화할 수 있음.

* **유연성**  
다양한 작업 유형을 지원하여 다양한 사용 사례에 적합.

* **비용 효율성**  
작업 수행에 필요한 리소스를 자동으로 조정하여 비용을 절감할 수 있음.

### Use Case

* **대규모 데이터 이동**  
수백만 개의 객체를 다른 버킷으로 이동하거나 복사할 때 유용.

* **메타데이터 업데이트**  
대규모 객체의 메타데이터를 일괄적으로 변경해야 할 때 사용.

* **보안 설정 변경**  
객체의 ACL 또는 태그를 대규모로 변경하여 보안 설정을 업데이트할 때 유용.

* **데이터 프로세싱**  
Lambda 함수를 호출하여 대규모 데이터 집합에 대해 사용자 정의 처리를 수행할 수 있음.

## Architecture Example

![Batch Operations Architecture](https://github.com/LeeWooJung/AWS-SAA-C03/assets/31682438/2c22225d-39b2-4b23-8553-569f0b7e8856)
