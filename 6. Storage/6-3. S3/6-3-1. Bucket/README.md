# S3 Bucket

## S3 Bucket

* Amazon S3의 **버킷**(Bucket)은 S3 서비스에서 데이터를 저장하는 기본 단위로, 데이터를 조직화하고 관리하는 컨테이너 역할을 함.  
* S3 버킷은 **객체**(Object)를 저장하고 관리하는 논리적 단위이며, 각 버킷은 **전역적으로 고유한 이름**을 가져야 함.

### 버킷의 기본 개념 및 기능

1. **버킷 생성 및 네이밍**  
    * S3 버킷 이름은 **전 세계적으로 유일**해야 하며, 최소 3자에서 최대 63자 사이의 문자열로 구성됨.
    * 버킷 이름은 소문자와 숫자, 하이픈(-)만 포함할 수 있으며, IP 형식(예: 192.168.1.1)을 사용할 수 없음.
    * 이름은 **DNS 호환성을 위해 소문자로 작성**되어야 하며, 버킷 이름은 생성 후 변경할 수 없음.

2. **리전**  
    * S3 버킷은 특정 **AWS 리전에 생성**됨. 이는 데이터가 **해당 리전에 저장됨**을 의미하며, 버킷의 리전은 데이터를 저장하고 액세스하는 데 영향을 미침.
    * 리전을 선택하면 데이터가 해당 리전 내의 **여러 가용 영역(AZ)에 중복 저장되어 내구성과 가용성이 보장**.

3. **객체 저장 및 관리**  
    * 버킷은 **객체를 저장하는 컨테이너 역할**을 함. 객체는 **키**(고유 식별자), **값**(데이터), **메타데이터**, **버전 정보**로 구성됨.
    * 각 객체는 고유한 키를 통해 버킷 내에서 식별됨.

4. **버킷 정책 및 액세스 제어**  
    * **버킷 정책**을 사용하여 버킷 및 객체에 대한 권한을 관리할 수 있음.  
    * 정책은 **JSON 형식**으로 작성되며, 특정 사용자 또는 그룹에 대한 **액세스를 허용하거나 거부**할 수 있음.
    * **Access Control Lists**(ACL)를 사용하여 객체 수준의 권한을 설정할 수도 있음.
    * **[IAM](https://github.com/LeeWooJung/AWS-SAA-C03/tree/main/2.%20Identity%20and%20Access(IAM))**(Identity and Access Management) 정책을 통해 더 세밀한 권한 관리를 할 수 있음.

5. **데이터 보호 및 암호화**  
    * S3는 **서버 측 암호화**(SSE)를 제공하여 데이터를 저장할 때 자동으로 암호화.  
    * SSE-S3, SSE-KMS, SSE-C의 세 가지 옵션을 제공.
    * 클라이언트 측 암호화도 지원하며, 데이터를 S3에 업로드하기 전에 암호화할 수 있음.

6. **수명 주기 정책**  
    * 객체의 수명 주기를 정의하여 데이터를 자동으로 이동하거나 삭제할 수 있음.  
    * 예를 들어, 오래된 객체를 S3 Glacier로 이동하거나 자동으로 삭제하도록 설정할 수 있음.
    * 수명 주기 정책은 버킷 수준에서 정의되며, **객체의 저장 클래스를 변경하거나 삭제**할 수 있음.

7. **버전 관리**  
    * S3는 객체의 **여러 버전**을 저장할 수 있는 버전 관리 기능을 제공.  
    * 이를 통해 이전 버전의 객체를 복구하거나 삭제된 객체를 복원할 수 있음.
    * 버전 관리는 **버킷 수준에서 활성화**할 수 있음.

8. Cross-Region Replication (CRR) 및 Same-Region Replication (SRR)  
    * **Versioning**을 Source Region과 Destination Region에 각각 허용해야 Replication이 가능.
    * Copying은 **Asynchronous**.
    * S3에 적절한 IAM Permission을 허용해야 함.
    * Replication을 허용 한 후 부터 **새로 생성된** 객체가 복제됨.
    * 기존 객체도 복제하고 싶을 때는 **S3 Batch Replication**을 사용해야 함.
    * **Delete Marker**가 적용된 객체는 복제될 수 있음. 하지만, **Version ID**로 삭제된 것은 복제되지 않음.
    * **Chaining**은 없음. 따라서, source bucket에 새로운 객체가 추가 되었다고 해서, target bucket에 해당 객체가 복제되지 않음.
    * **CRR**은 객체를 한 리전에서 다른 리전으로 자동으로 복제.  
        * Use case: compliance, lower latency access, replication access 
    * **SRR**은 동일한 리전 내에서 다른 버킷으로 복제.  
        * Use case: log aggregation, live replication between production and test accounts
    * 복제는 재해 복구, 데이터 주권 준수, 지연 시간 감소 등을 목적으로 사용.

## 기능

* **S3 이벤트 알림**  
    * 객체 생성, 삭제, 복제 등의 이벤트 발생 시 Lambda 함수, SQS, SNS 등과 통합하여 알림을 설정할 수 있음.
    * 이를 통해 데이터 처리 워크플로우를 자동화할 수 있음.

* **S3 Inventory**  
    * 버킷의 객체 목록을 정기적으로 생성하여 관리하고 분석할 수 있음.
    * S3 Inventory는 객체의 메타데이터, 스토리지 클래스, 암호화 상태 등의 정보를 제공.

## Use Case

* **백업 및 복구**  
    * 중요한 데이터를 안전하게 백업하고 필요할 때 빠르게 복구할 수 있음.
    * 수명 주기 정책을 통해 데이터 보관 전략을 자동화할 수 있음.

* **정적 웹 사이트 호스팅**  
    * HTML, CSS, JavaScript 파일 등을 저장하고 정적 웹 사이트를 호스팅할 수 있음.
    * S3의 버킷을 웹 사이트 **엔드포인트**로 구성하여 **정적** 콘텐츠를 제공할 수 있음.

* **데이터 아카이빙**  
    * 오래된 데이터를 비용 효율적으로 저장하기 위해 **S3 Glacier 또는 S3 Glacier Deep Archive**를 사용할 수 있음.
    * 데이터 아카이빙과 수명 주기 정책을 결합하여 **자동화된 데이터 보관 관리**를 구현할 수 있음.

* **빅 데이터 분석**  
    * 대규모 데이터 세트를 저장하고 분석 도구(AWS Athena, Redshift 등)와 통합하여 분석할 수 있음.
    * S3의 확장성과 성능을 활용하여 데이터 처리 및 분석을 효율적으로 수행할 수 있음.

* **미디어 파일 저장 및 배포**  
    * 이미지, 동영상, 오디오 파일 등의 대용량 미디어 파일을 저장하고 전 세계적으로 배포할 수 있음.
    * **CloudFront**와 결합하여 콘텐츠 전송 네트워크(CDN) 기능을 통해 빠르고 효율적으로 콘텐츠를 제공할 수 있음.